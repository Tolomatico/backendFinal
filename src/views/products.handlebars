 <h1 class="font-extrabold text-4xl my-5">{{title}}</h1>

  {{#if products.length}}

  <section class="mt-8 mx-10">
    <div class="bg-white py-8 px-4 shadow flex flex-wrap">
      {{#each products}}
      {{#if this.stock}}


      <div class="card">
        <img class="img" src="{{this.thumbnail}}" />
        <p class="font-bold text-xl">{{this.title}}</p>
        <p class="font-bold text-xl">${{this.price}}</p>
        <p class="font-bold text-xl">stock: {{this.stock}}</p>

        <button onclick="addProduct('{{...cart}}', '{{this.id}}')"
          class="block text-center rounded-xl border bg-green-700 text-white p-1 hover:bg-green-600">
          Agregar al carrito
        </button>
      </div>

      {{/if}}
      {{/each}}
    </div>
  </section>

  <div class="text-center my-5">
    {{#if hasPrevPage}}
    <a class="text-center rounded-xl border bg-blue-700 text-white p-1 hover:bg-blue-600"
      href="/products?page={{prevPage}}">Anterior</a>
    {{/if}}
    {{#if hasNextPage}}
    <a class="text-center rounded-xl border bg-blue-700 text-white p-1 hover:bg-blue-600"
      href="/products?page={{nextPage}}">Siguiente</a>
    {{/if}}

    <p>PÃ¡gina {{currentPage}} de {{totalPages}}</p>

    {{else}}
    <p>No hay productos disponibles.</p>

    {{/if}}

  </div>

  <script>
    async function addProduct(cart, id) {

      try {
        const response = await fetch(`/api/carts/${cart}/product/${id}`, {
          method: "POST"
        })

      } catch (error) {
        console.error(error)
      }
    }

  </script>

